#include "cszm_modules/lobbyambient"
#include "cszm_modules/newspawn"
#include "cszm_modules/cashmaker"

array<array<CSpawnPoint@>> New_Spawns = 
{
	{
		CSpawnPoint(Vector(584.354, -224.996, -95.9688), QAngle(12.7412, -179.645, 0)),
		CSpawnPoint(Vector(439.966, -237.205, -95.9688), QAngle(-0.689773, 92.8354, 0)),
		CSpawnPoint(Vector(175.314, -215.657, -95.9688), QAngle(2.28683, 79.2955, 0)),
		CSpawnPoint(Vector(65.7508, -226.338, -95.9688), QAngle(4.64633, 7.6756, 0)),
		CSpawnPoint(Vector(605.611, -77.7375, -95.9688), QAngle(0.907439, 172.804, 0)),
		CSpawnPoint(Vector(608.658, 104.608, -95.9688), QAngle(3.48474, -159.499, 0)),
		CSpawnPoint(Vector(-91.8562, -227.162, -95.9688), QAngle(-1.27056, 173.639, 0)),
		CSpawnPoint(Vector(-201.05, -220.903, -95.9688), QAngle(2.10533, 105.432, 0)),
		CSpawnPoint(Vector(-525.365, -212.599, -95.9688), QAngle(1.52453, 31.8878, 0)),
		CSpawnPoint(Vector(-374.442, -221.22, -95.9688), QAngle(3.52103, 39.5471, 0)),
		CSpawnPoint(Vector(-774.642, -108.532, -95.9688), QAngle(17.0972, 136.504, 0)),
		CSpawnPoint(Vector(-733.182, 118.874, -95.9688), QAngle(9.0386, -160.588, 0)),
		CSpawnPoint(Vector(-566.305, -42.8651, -95.9688), QAngle(5.1545, -7.98265, 0)),
		CSpawnPoint(Vector(-507.148, 168.005, -95.9688), QAngle(0.653295, -56.9513, 0)),
		CSpawnPoint(Vector(-161.652, 141.324, -95.9688), QAngle(1.96009, 39.8971, 0)),
		CSpawnPoint(Vector(1.45467, 167.93, -95.9688), QAngle(3.99289, -55.3179, -0)),
		CSpawnPoint(Vector(47.424, -78.7952, -95.9688), QAngle(4.68259, 115.874, 0)),
		CSpawnPoint(Vector(-112.059, -72.9263, -95.9688), QAngle(2.28679, 117.193, 0)),
		CSpawnPoint(Vector(-390.633, 173.648, -95.9688), QAngle(6.86059, -96.5183, 0)),
		CSpawnPoint(Vector(224.958, 198.572, -95.9688), QAngle(7.87699, -84.5756, 0)),
		CSpawnPoint(Vector(398.236, 180.686, -95.9688), QAngle(6.35239, -115.104, 0)),
		CSpawnPoint(Vector(-185.982, 432.755, -95.9688), QAngle(7.65919, -115.322, 0)),
		CSpawnPoint(Vector(92.8285, 437.917, -95.9688), QAngle(3.59359, -48.8928, 0)),
		CSpawnPoint(Vector(-916.078, 360.936, -95.9688), QAngle(2.86759, -68.1317, 0)),
		CSpawnPoint(Vector(-650.045, 393.54, -95.9688), QAngle(2.06899, -74.3027, 0)),
		CSpawnPoint(Vector(-901.686, 176.619, -95.9688), QAngle(1.70598, 6.61001, 0)),
		CSpawnPoint(Vector(549.867, 413.586, -95.9688), QAngle(-0.181621, -147.266, 0)),
		CSpawnPoint(Vector(745.668, 316.549, -95.9688), QAngle(1.92377, -148.209, 0))
	},
	{
		CSpawnPoint(Vector(-800.851, 2851.32, -95.9688), QAngle(1.52448, -34.7356, 0)),
		CSpawnPoint(Vector(-769.841, 2624.35, -95.9688), QAngle(3.41207, -10.8501, 0)),
		CSpawnPoint(Vector(-644.988, 2702.35, -95.9688), QAngle(3.19428, 168.037, 0)),
		CSpawnPoint(Vector(-486.313, 2880.54, -95.9688), QAngle(-0.32683, -69.9103, 0)),
		CSpawnPoint(Vector(-400.531, 3029, -95.9688), QAngle(4.02918, -92.743, 0)),
		CSpawnPoint(Vector(-295.436, 2868.3, -95.9688), QAngle(2.39568, -116.011, 0)),
		CSpawnPoint(Vector(-495.698, 2718.45, -95.9688), QAngle(3.66618, -3.43279, 0)),
		CSpawnPoint(Vector(-295.231, 2719.56, -95.9688), QAngle(3.62989, -139.824, 0)),
		CSpawnPoint(Vector(-480.082, 2531.88, -95.9688), QAngle(5.80788, 105.698, 0)),
		CSpawnPoint(Vector(-340.177, 2577.78, -95.9688), QAngle(3.59358, 112.438, 0)),
		CSpawnPoint(Vector(-193.28, 2545.01, -95.9688), QAngle(-2.32331, 55.2287, 0)),
		CSpawnPoint(Vector(-107.669, 2615.08, -95.9688), QAngle(-10.636, 130.539, 0)),
		CSpawnPoint(Vector(59.1118, 2530.26, -95.9688), QAngle(9.51049, 44.4838, 0)),
		CSpawnPoint(Vector(58.9784, 2633.52, -95.9688), QAngle(-0.181606, 6.91327, 0)),
		CSpawnPoint(Vector(158.98, 2708.88, -95.9688), QAngle(1.66969, -4.73898, 0)),
		CSpawnPoint(Vector(-151.913, 2821.73, -95.9688), QAngle(-4.4287, 142.203, 0)),
		CSpawnPoint(Vector(23.4911, 2872.39, -95.9688), QAngle(7.18728, 34.3196, 0)),
		CSpawnPoint(Vector(-34.0856, 2829.58, -95.9688), QAngle(-7.33272, 103.339, 0)),
		CSpawnPoint(Vector(172.975, 2873.78, -95.9688), QAngle(10.418, -40.2278, 0)),
		CSpawnPoint(Vector(384.185, 2855.05, -95.9688), QAngle(6.38868, -115.514, 0)),
		CSpawnPoint(Vector(264.598, 3007.12, -95.9688), QAngle(1.27039, -77.2408, 0)),
		CSpawnPoint(Vector(424.027, 2585.49, -95.9688), QAngle(2.61349, 119.3, 0)),
		CSpawnPoint(Vector(275.568, 2586.53, -95.9688), QAngle(3.52099, 83.7262, 0)),
		CSpawnPoint(Vector(663.237, 2880.08, -95.9688), QAngle(3.77509, -161.53, 0)),
		CSpawnPoint(Vector(618.971, 2554.85, -95.9688), QAngle(3.12169, 148.921, -0)),
		CSpawnPoint(Vector(536.643, 2716.29, -95.9688), QAngle(3.30319, 31.8405, 0))
	},
	{
		CSpawnPoint(Vector(-240.262, 3255.7, -95.9688), QAngle(-5.08212, -55.0618, 0)),
		CSpawnPoint(Vector(682.34, 2541.17, -95.9688), QAngle(-1.85144, 158.322, 0)),
		CSpawnPoint(Vector(-816.198, 2830.26, -95.9688), QAngle(-0.87133, -47.7293, 0)),
		CSpawnPoint(Vector(-963.881, 2190.59, -95.9688), QAngle(-0.254221, -35.3146, 0)),
		CSpawnPoint(Vector(-192.407, 1658.08, -95.9688), QAngle(1.70598, 53.1847, 0)),
		CSpawnPoint(Vector(743.412, 1986.91, -95.9688), QAngle(2.28678, 176.388, 0)),
		CSpawnPoint(Vector(1534, 2443.74, -287.969), QAngle(-19.2028, -173.255, 0)),
		CSpawnPoint(Vector(1830.26, 1827.52, -7.34596), QAngle(11.0714, 179.631, 0)),
		CSpawnPoint(Vector(1759.47, 1212.89, 186.757), QAngle(-2.76654, 160.174, 0)),
		CSpawnPoint(Vector(1901.66, 720.031, -0.212097), QAngle(7.25229, 169.431, 0)),
		CSpawnPoint(Vector(332.282, 800.27, -95.9688), QAngle(1.1902, 177.707, 0)),
		CSpawnPoint(Vector(855.682, -72.6001, -95.9688), QAngle(2.7874, 161.88, 0)),
		CSpawnPoint(Vector(-533.542, -223.103, -95.9688), QAngle(0.210059, 37.3585, 0)),
		CSpawnPoint(Vector(-75.4081, 1305.55, -95.9688), QAngle(-2.33094, -38.1818, 0)),
		CSpawnPoint(Vector(-1228.48, 1532.46, -95.9688), QAngle(5.21945, -125.375, 0)),
		CSpawnPoint(Vector(-2424.53, 778.735, -37.5192), QAngle(7.10705, 17.3338, 0)),
		CSpawnPoint(Vector(-1610.12, 263.228, -95.9688), QAngle(7.76045, 48.2251, 0)),
		CSpawnPoint(Vector(1071.97, 1295.97, -222.969), QAngle(-11.5511, -162.4, 0)),
		CSpawnPoint(Vector(-581.644, 859.45, -95.9688), QAngle(0.210063, -160.404, 0)),
		CSpawnPoint(Vector(-1889.24, 2480.92, -95.9688), QAngle(-0.225535, -82.2239, 0)),
		CSpawnPoint(Vector(-1040.7, 3185.14, -95.9688), QAngle(10.6645, 123.295, 0)),
		CSpawnPoint(Vector(-1864.29, 3279.94, -87.9688), QAngle(0.899745, -16.1469, 0)),
		CSpawnPoint(Vector(827.57, 1472.23, -31.967), QAngle(3.87634, -19.0879, 0)),
		CSpawnPoint(Vector(-228.329, 470.758, -95.9688), QAngle(-0.370759, -58.0376, 0))
	}
};

array<array<CSpawnPoint@>> New_ZombieSpawns = 
{
	{
		CSpawnPoint(Vector(1759.47, 1212.89, -30.9688), QAngle(-0.00426509, 160.17, 0)),
		CSpawnPoint(Vector(1807.98, 1362.24, -31.9688), QAngle(4.31543, -153.584, 0)),
		CSpawnPoint(Vector(1638.14, 780.274, -26.5549), QAngle(8.96182, 175.851, 0)),
		CSpawnPoint(Vector(1895.16, 783.121, -0.853384), QAngle(10.8494, 176.868, 0)),
		CSpawnPoint(Vector(574.319, 815.991, -95.9688), QAngle(1.62921, -142.733, 0)),
		CSpawnPoint(Vector(240.156, 846.666, -95.9688), QAngle(7.00163, -61.0543, -0)),
		CSpawnPoint(Vector(339.793, 535.762, -95.9688), QAngle(5.36814, -142.765, -0)),
		CSpawnPoint(Vector(745.009, -225.74, -155.969), QAngle(-2.29113, 140.569, 0)),
		CSpawnPoint(Vector(347.749, -222.196, -95.9688), QAngle(0.322475, 152.62, 0)),
		CSpawnPoint(Vector(53.4777, -227.588, -95.9688), QAngle(9.86937, 30.652, 0)),
		CSpawnPoint(Vector(26.6192, 480.718, -95.9688), QAngle(9.83306, -123.002, 0)),
		CSpawnPoint(Vector(-292.048, 438.944, -95.9688), QAngle(9.86936, -79.221, 0)),
		CSpawnPoint(Vector(-502.237, -220.978, -95.9688), QAngle(6.67496, 56.0009, 0)),
		CSpawnPoint(Vector(-212.092, -230.992, -95.9688), QAngle(6.74756, 108.684, 0)),
		CSpawnPoint(Vector(-427.143, 164.509, -95.9688), QAngle(9.32486, 96.6688, -0)),
		CSpawnPoint(Vector(-792.812, -231.255, -155.969), QAngle(-7.44573, 81.7494, 0)),
		CSpawnPoint(Vector(-927.08, 408.471, -95.9688), QAngle(5.36816, -25.8076, 0)),
		CSpawnPoint(Vector(-1463, 82.0471, -95.9688), QAngle(-0.0405347, 61.4704, 0)),
		CSpawnPoint(Vector(-1100.75, 463.233, -95.9688), QAngle(1.37516, -127.81, 0)),
		CSpawnPoint(Vector(-1603.77, 80.0313, -95.9688), QAngle(6.16674, 106.918, 0)),
		CSpawnPoint(Vector(-1611.22, 401.092, -95.9688), QAngle(0.358742, -76.0338, 0)),
		CSpawnPoint(Vector(-1831.74, 499.365, -63.9688), QAngle(11.2124, -130.812, 0)),
		CSpawnPoint(Vector(-1993.37, 195.171, -63.9688), QAngle(11.7206, 66.4612, -0)),
		CSpawnPoint(Vector(-2207.77, 426.575, -63.9688), QAngle(10.3775, 19.386, -0)),
		CSpawnPoint(Vector(-2183.33, 183.848, -63.9688), QAngle(11.5029, 49.0689, 0)),
		CSpawnPoint(Vector(-1849.75, 1095.19, -63.9688), QAngle(7.72765, -79.4758, -0)),
		CSpawnPoint(Vector(-1810.79, 761.911, -63.9688), QAngle(5.44075, 16.1368, 0)),
		CSpawnPoint(Vector(-2400.11, 802.471, -39.9723), QAngle(13.4267, 2.20565, 0)),
		CSpawnPoint(Vector(-2067.65, 572.055, -63.9688), QAngle(6.34824, 35.3839, 0)),
		CSpawnPoint(Vector(-1950.23, 546.012, -63.9688), QAngle(6.67494, 65.6218, 0)),
		CSpawnPoint(Vector(-1063.79, 723.224, -95.9688), QAngle(0.939548, 19.8838, 0)),
		CSpawnPoint(Vector(-474.604, 856.058, -95.9688), QAngle(8.16325, -163.467, 0)),
		CSpawnPoint(Vector(-1547.35, 1244.25, -63.9688), QAngle(14.0076, 141.974, 0)),
		CSpawnPoint(Vector(-1516.58, 1518.51, -95.9688), QAngle(9.72419, -50.4744, 0)),
		CSpawnPoint(Vector(-1230.58, 1326.29, -95.9688), QAngle(8.70781, 137.073, 0)),
		CSpawnPoint(Vector(-1003.04, 1418.62, -94.9688), QAngle(11.7933, -18.9803, 0)),
		CSpawnPoint(Vector(-656.903, 1460.63, -95.9688), QAngle(6.6024, -100.51, 0)),
		CSpawnPoint(Vector(-1265.99, 1080.95, -95.9688), QAngle(5.62225, 1.81977, -0)),
		CSpawnPoint(Vector(-993.486, 1020.03, -95.9688), QAngle(14.4432, 48.8645, 0)),
		CSpawnPoint(Vector(-649.842, 1019.81, -95.9688), QAngle(5.54966, 82.079, 0)),
		CSpawnPoint(Vector(-782.445, 1244.83, -95.9688), QAngle(1.66556, 0.222434, 0)),
		CSpawnPoint(Vector(359.969, 1124.25, -95.9688), QAngle(0.35876, 112.97, 0)),
		CSpawnPoint(Vector(1071.99, 1216.03, -222.969), QAngle(-16.1577, -177.03, 0)),
		CSpawnPoint(Vector(1012.02, 1272.63, -222.969), QAngle(-21.0945, -173.836, 0)),
		CSpawnPoint(Vector(871.545, 1238.4, -159.969), QAngle(-20.2233, 173.06, 0)),
		CSpawnPoint(Vector(241.943, 1413.34, -95.9688), QAngle(0.104702, 64.8492, 0)),
		CSpawnPoint(Vector(844.578, 1644.19, -95.9688), QAngle(2.97239, 137.304, 0)),
		CSpawnPoint(Vector(839.955, 1751.92, -95.9688), QAngle(3.44429, 139.772, 0)),
		CSpawnPoint(Vector(684.419, 1660.67, -95.9688), QAngle(2.02859, 129.645, 0)),
		CSpawnPoint(Vector(992.031, 2479.97, -159.969), QAngle(-12.201, -56.2479, 0)),
		CSpawnPoint(Vector(1510.74, 2415.95, -287.969), QAngle(-10.5675, -158.65, 0)),
		CSpawnPoint(Vector(1554.26, 1927.77, -415.969), QAngle(-14.9961, 112.959, 0)),
		CSpawnPoint(Vector(1551.38, 2155.62, -351.969), QAngle(-18.9891, 123.305, 0)),
		CSpawnPoint(Vector(1617.77, 1784.37, -28.592), QAngle(5.0415, -154.475, 0)),
		CSpawnPoint(Vector(1528.06, 1854.64, -31.9688), QAngle(7.58251, -129.895, 0)),
		CSpawnPoint(Vector(1825.29, 1839.29, -7.84951), QAngle(11.7207, -159.375, 0)),
		CSpawnPoint(Vector(1410.05, 1554.49, -31.9688), QAngle(6.85651, -75.4502, 0)),
		CSpawnPoint(Vector(1091.93, 1805.45, -31.9688), QAngle(10.5228, 97.3405, -0)),
		CSpawnPoint(Vector(844.285, 1474.53, -31.9688), QAngle(10.9585, -21.9064, 0)),
		CSpawnPoint(Vector(1121, 1431.16, -31.9688), QAngle(10.4865, 114.509, 0)),
		CSpawnPoint(Vector(721.494, 2169.84, -95.9688), QAngle(2.39165, -141.705, 0)),
		CSpawnPoint(Vector(-187.078, 1667.63, -95.9688), QAngle(-1.38357, 53.6829, 0)),
		CSpawnPoint(Vector(17.6901, 2189.23, -95.9688), QAngle(1.44784, -32.4498, 0)),
		CSpawnPoint(Vector(366.647, 2369.09, -95.9688), QAngle(2.46423, 127.916, 0)),
		CSpawnPoint(Vector(711.139, 2545.86, -95.9688), QAngle(1.73822, 154.706, 0)),
		CSpawnPoint(Vector(719.928, 2900.79, -95.9688), QAngle(3.15392, -164.384, 0)),
		CSpawnPoint(Vector(383.831, 3630.21, 160.031), QAngle(33.0288, -104.489, 0)),
		CSpawnPoint(Vector(341.564, 3114.03, -95.9688), QAngle(4.02503, -121.949, 0)),
		CSpawnPoint(Vector(96.9669, 3245.75, -95.9688), QAngle(7.40092, -133.202, 0)),
		CSpawnPoint(Vector(-221.007, 3241.89, -95.9688), QAngle(4.38802, -46.1549, 0)),
		CSpawnPoint(Vector(-520.732, 3603.3, 160.031), QAngle(36.6587, -80.0591, 0)),
		CSpawnPoint(Vector(-461.913, 3105.27, -95.9688), QAngle(7.07426, -77.0817, 0)),
		CSpawnPoint(Vector(-212.59, 2601.02, -95.9688), QAngle(-1.63775, -155.019, 0)),
		CSpawnPoint(Vector(-789.896, 2864.24, -95.9688), QAngle(3.55313, -36.5716, 0)),
		CSpawnPoint(Vector(-762.02, 2570.64, -95.9688), QAngle(-1.38367, 26.4452, 0)),
		CSpawnPoint(Vector(12.7835, 2877.52, -95.9688), QAngle(2.17374, -137.957, 0)),
		CSpawnPoint(Vector(-432.817, 2368.84, -95.9688), QAngle(1.73813, -77.1596, 0)),
		CSpawnPoint(Vector(-636.316, 1682.16, -95.9688), QAngle(0.358736, 48.2018, 0)),
		CSpawnPoint(Vector(-287.513, 2152.12, -95.9688), QAngle(0.685435, -123.36, -0)),
		CSpawnPoint(Vector(-932.278, 1805.01, -95.9688), QAngle(1.77443, 18.5939, -0)),
		CSpawnPoint(Vector(-1008, 2179.2, -95.9688), QAngle(2.57304, -18.8314, 0)),
		CSpawnPoint(Vector(-1133.7, 1840.28, -95.9688), QAngle(2.46417, 40.1198, 0)),
		CSpawnPoint(Vector(-1499.24, 1888.64, -95.9688), QAngle(3.80727, -6.70725, 0)),
		CSpawnPoint(Vector(-1802.75, 1936.27, -63.9688), QAngle(4.56956, -95.0379, 0)),
		CSpawnPoint(Vector(-1784.86, 1486.85, -63.9688), QAngle(5.76747, -109.848, 0)),
		CSpawnPoint(Vector(-1833.31, 2468.61, -95.9688), QAngle(-0.294627, -86.1314, 0)),
		CSpawnPoint(Vector(-2127.51, 2637.21, -79.9688), QAngle(10.6316, 34.8204, 0)),
		CSpawnPoint(Vector(-2121.32, 3004.08, -87.9688), QAngle(5.94894, -1.76996, 0)),
		CSpawnPoint(Vector(-1930.27, 3004.25, -87.9688), QAngle(5.76744, 6.09565, 0)),
		CSpawnPoint(Vector(-1879.9, 3317.98, -87.9688), QAngle(-0.0768751, -30.701, 0)),
		CSpawnPoint(Vector(-1317.58, 3409.5, -95.9688), QAngle(1.95593, -157.606, 0)),
		CSpawnPoint(Vector(-994.545, 3296.54, -70.9687), QAngle(17.4923, -107.403, 0)),
		CSpawnPoint(Vector(-990.368, 3080.68, -95.9688), QAngle(-0.294685, -135.499, 0)),
		CSpawnPoint(Vector(-1278.94, 2986.29, -95.9688), QAngle(3.80722, -98.5454, 0)),
		CSpawnPoint(Vector(-1106.72, 2767.32, -95.9688), QAngle(1.59292, 148.78, 0)),
		CSpawnPoint(Vector(-1374.95, 2764.29, -95.9688), QAngle(1.55662, 67.9393, 0)),
		CSpawnPoint(Vector(-1398.59, 2533.92, -95.9688), QAngle(4.20654, 35.8983, 0)),
		CSpawnPoint(Vector(-1096.31, 2541.22, -95.9688), QAngle(4.64213, -173.36, 0)),
		CSpawnPoint(Vector(-993.21, 2403.46, -33.9688), QAngle(13.0274, 131.27, 0)),
		CSpawnPoint(Vector(-1336.64, 3283.01, -49.9688), QAngle(11.3939, -103.845, 0)),
		CSpawnPoint(Vector(-1842.24, 2824.74, -12.9173), QAngle(29.1083, 40.7871, 0))
	}
};

const int TEAM_LOBBYGUYS = 0;
const int TEAM_SURVIVORS = 2;

int iMaxPlayers;

void OnMapInit()
{
	iMaxPlayers = Globals.GetMaxClients();

	Events::Player::OnPlayerSpawn.Hook(@OnPlayerSpawn);

	CNetworked@ pNetworked = Network::Get("cszm_spawnsist");
	if (pNetworked !is null)
	{
		pNetworked.Save("distvalue", 1250.0f);
	}

	OnNewRound();
	CashDATA();
}

void OnNewRound()
{
	Schedule::Task(0.05f, "SetUpStuff");
	Engine.Ent_Fire("SND_Ambient", "StopSound");
	Engine.Ent_Fire("SND_Ambient", "PlaySound");
}

void OnMatchBegin() 
{
	Engine.Ent_Fire("SND_Ambient", "PlaySound");
	RemoveNativeSpawns("info_player_human");
	CreateSpawnsFromArray(New_ZombieSpawns, false);
}

void SetUpStuff()
{
	Engine.Ent_Fire("Precache", "kill");
	Engine.Ent_Fire("SND_Ambient", "PlaySound");
	
	Engine.Ent_Fire("shading", "StartOverlays");
	
	FlickerLight1();
	ChangeFog();
	PlayLobbyAmbient();
	
	RemoveNativeSpawns("info_player_zombie");
	RemoveNativeSpawns("info_player_human");
	CreateSpawnsFromArray(New_Spawns, true);
}

void OnProcessRound()
{

}

HookReturnCode OnPlayerSpawn(CZP_Player@ pPlayer)
{
	CBasePlayer@ pPlrEnt = pPlayer.opCast();
	CBaseEntity@ pBaseEnt = pPlrEnt.opCast();

	if (pBaseEnt.GetTeamNumber() == TEAM_LOBBYGUYS)
	{
		PlayLobbyAmbient();
	}

	return HOOK_CONTINUE;	
}

void ChangeFog()
{
	CBaseEntity@ pEntity = FindEntityByClassname(pEntity, "env_fog_controller");
	pEntity.SetEntityName("my_fog");
	Engine.Ent_Fire("my_fog", "SetStartDist", "-128");
	Engine.Ent_Fire("my_fog", "SetEndDist", "4096");
}

void FlickerLight1()
{
	float flInterval = Math::RandomFloat(0.085, 0.35);
	float flOffInterval = Math::RandomFloat(0.05, 0.20);
	Engine.Ent_Fire("FL-Prop1", "skin", "1");
	Engine.Ent_Fire("FL-Light1", "TurnOn");
	Engine.Ent_Fire("FL-Spr1", "ShowSprite");
	
	Schedule::Task(flOffInterval, "FlickerLight1Off");
	Schedule::Task(flInterval, "FlickerLight1");
}

void FlickerLight1Off()
{
	Engine.Ent_Fire("FL-Prop1", "skin", "0");
	Engine.Ent_Fire("FL-Light1", "TurnOff");
	Engine.Ent_Fire("FL-Spr1", "HideSprite");
}

void CashDATA()
{
	MaxRandomCash = 31;
	MinRandomCash = 17;

	MaxMoneyPerItem = 125.0f;
	MinMoneyPerItem = 25.0f;

	InsertToArray(234.328, 2655.33, -63.7425);
	InsertToArray(222.258, 2626.77, -63.7425);
	InsertToArray(-70.902, 3280.86, -56.4082);
	InsertToArray(-79.9659, 3264.88, -56.4082);
	InsertToArray(-170.027, 3117.3, 37.0313);
	InsertToArray(-202.379, 3105.23, 37.0313);
	InsertToArray(-184.318, 2759.39, -79.263);
	InsertToArray(-806.17, 2916.09, -62.9688);
	InsertToArray(-648.354, 2555.14, -62.9688);
	InsertToArray(-1134.45, 2707.8, -56.9688);
	InsertToArray(-1047.96, 3251.03, -56.7188);
	InsertToArray(-1291.25, 3446.95, -68.9581);
	InsertToArray(-1548.4, 3328.03, -38.9783);
	InsertToArray(-1782.21, 3145.92, -48.9688);
	InsertToArray(-1772.97, 3156.18, -48.9688);
	InsertToArray(-2162.98, 3060.82, -48.9688);
	InsertToArray(-2147.18, 3052.99, -48.9688);
	InsertToArray(-2144.51, 2799.46, -61.9688);
	InsertToArray(-2150.59, 2675.49, -77.9688);
	InsertToArray(-1894.81, 1761.63, -45.937);
	InsertToArray(-1781.38, 1403.38, -30.9688);
	InsertToArray(-2118.16, 591.246, -24.9688);
	InsertToArray(-1850.94, 588.635, -26.9688);
	InsertToArray(-1844.77, 575.387, -26.9688);
	InsertToArray(-2031.39, 302.696, -26.0277);
	InsertToArray(-2061.45, 284.439, -26.0277);
	InsertToArray(-1909.33, 133.358, -51.6651);
	InsertToArray(-2251.02, 108.016, -26.0278);
	InsertToArray(-2247.63, 596.491, -26.0278);
	InsertToArray(-1681.93, 493.948, -60.9445);
	InsertToArray(-1515.97, 164.794, -61.154);
	InsertToArray(-1515.97, 133.468, -35.9439);
	InsertToArray(-1288.59, 148.705, -70.9688);
	InsertToArray(-1171.52, 321.896, -62.9688);
	InsertToArray(-1080.86, 752.254, -94.9688);
	InsertToArray(-1090.05, 739.477, -94.9688);
	InsertToArray(-676.997, 726.781, -79.3178);
	InsertToArray(-377.763, 567.71, -62.9688);
	InsertToArray(-581.862, 223.059, -79.1954);
	InsertToArray(-623.351, 62.4185, -69.6909);
	InsertToArray(-866.42, -78.7392, -63.7425);
	InsertToArray(-865.395, -54.8727, -63.7425);
	InsertToArray(-1004.69, -10.3378, -65.9688);
	InsertToArray(-71.3286, -265.18, -76.4688);
	InsertToArray(107.641, 240.537, -78.9688);
	InsertToArray(-64.1869, 237.87, -94.9688);
	InsertToArray(868.81, 59.3323, -62.9688);
	InsertToArray(747.278, 69.3344, -94.9688);
	InsertToArray(512.035, 374.449, 77.0313);
	InsertToArray(223.184, 793.769, -55.2244);
	InsertToArray(1563.12, 1205.63, 1.03125);
	InsertToArray(1758.08, 1224.78, -29.9688);
	InsertToArray(1752.24, 1242.57, -29.9688);
	InsertToArray(997.409, 1701.1, -23.9688);
	InsertToArray(988.893, 1702.62, 23.0312);
	InsertToArray(838.9, 1399.83, -19.8672);
	InsertToArray(810.38, 1397.25, 1.83644);
	InsertToArray(826.469, 1399.02, 1.83645);
	InsertToArray(812.753, 1400.09, 40.6603);
	InsertToArray(1590.64, 1911.88, -404.617);
	InsertToArray(1594.2, 1976.01, -382.914);
	InsertToArray(1437.41, 1889.98, -414.969);
	InsertToArray(815.965, 1621.38, -79.4441);
	InsertToArray(241.974, 1551.02, -62.9688);
	InsertToArray(184.267, 1945.73, -79.3642);
	InsertToArray(-693.809, 1626.18, -79.011);
	InsertToArray(-664.75, 1619.17, -79.6433);
	InsertToArray(-1033.64, 1813.56, -64.7425);
	InsertToArray(-1025.26, 1790.08, -64.7425);
	InsertToArray(-1010.22, 1878.59, -64.7425);
}