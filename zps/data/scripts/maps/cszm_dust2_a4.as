#include "cszm_modules/newspawn"

array<array<CSpawnPoint@>> Primary_Spawns =
{
	{
		CSpawnPoint(Vector(-2068.41, 2938.44, 32.0313), QAngle(8.82091, -56.7072, 0)),
		CSpawnPoint(Vector(-1989.93, 3008.5, 32.0313), QAngle(5.3724, -89.6313, 0)),
		CSpawnPoint(Vector(-1904.54, 2908.65, 32.0313), QAngle(3.41219, -95.9476, 0)),
		CSpawnPoint(Vector(-2004.43, 2831.55, 32.0313), QAngle(2.8677, -81.0646, 0)),
		CSpawnPoint(Vector(-1879.21, 2831.62, 32.0313), QAngle(3.1218, -96.2017, 0)),
		CSpawnPoint(Vector(-1804.63, 2794.78, 32.0313), QAngle(7.07848, -24.9811, 0)),
		CSpawnPoint(Vector(-1815.51, 2705.62, 32.0313), QAngle(5.84427, -76.5634, 0)),
		CSpawnPoint(Vector(-1921.86, 2733.73, 32.0313), QAngle(3.88408, -125.931, 0)),
		CSpawnPoint(Vector(-2013.65, 2736.54, 32.0313), QAngle(8.05858, -85.348, 0)),
		CSpawnPoint(Vector(-2023.55, 2638.85, 32.0313), QAngle(3.52108, -49.2295, 0)),
		CSpawnPoint(Vector(-1930.87, 2636.17, 32.0313), QAngle(4.28338, -38.1943, 0)),
		CSpawnPoint(Vector(-1844.47, 2625.25, 32.0313), QAngle(0.544481, -66.9802, 0)),
		CSpawnPoint(Vector(-1788.52, 2546.98, 32.0313), QAngle(-0.50822, -135.297, 0)),
		CSpawnPoint(Vector(-1893.63, 2523.15, 32.0313), QAngle(1.37937, -106.584, 0)),
		CSpawnPoint(Vector(-2014.8, 2555.8, 32.0313), QAngle(2.97655, -55.2915, 0)),
		CSpawnPoint(Vector(-2034, 2327.2, 1.04301), QAngle(-0.544541, 2.67954, 0)),
		CSpawnPoint(Vector(-2038.4, 2213.7, 3.501), QAngle(4.28336, 16.6913, 0)),
		CSpawnPoint(Vector(-2043.21, 2103.68, 12.677), QAngle(3.99296, -16.8499, 0)),
		CSpawnPoint(Vector(-2060.49, 1981.4, 5.96669), QAngle(8.78456, 3.62334, 0)),
		CSpawnPoint(Vector(-1917.32, 1985.97, 10.7909), QAngle(2.28686, 8.01565, 0)),
		CSpawnPoint(Vector(-1903.71, 2120.66, 13.3783), QAngle(1.23417, -27.1228, 0)),
		CSpawnPoint(Vector(-1903.49, 2240.96, 7.40511), QAngle(-0.108936, -14.8897, 0)),
		CSpawnPoint(Vector(-1907.34, 2343.97, 2.69753), QAngle(-0.471933, -63.2776, 0)),
		CSpawnPoint(Vector(-1445.25, 1976.31, 8.5733), QAngle(3.26699, 177.005, 0)),
		CSpawnPoint(Vector(-1426.82, 2086.52, 8.50886), QAngle(6.96958, -163.611, 0)),
		CSpawnPoint(Vector(-1558.37, 1962.33, 1.56858), QAngle(7.76818, 159.254, -0)),
		CSpawnPoint(Vector(-1521.16, 2120.56, 2.13341), QAngle(2.68618, 152.43, 0))
	},
	{
		CSpawnPoint(Vector(99.9988, 2451.35, -116.654), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(168.001, 2445.04, -124.298), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(237.622, 2448.41, -122.331), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(305.43, 2451.69, -118.786), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(387.036, 2455.64, -118.121), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(453.928, 2422.35, -116.301), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(416.074, 2353.79, -124.328), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(345.521, 2378.61, -126.348), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(271.246, 2375.02, -126.637), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(197.451, 2371.45, -126.748), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(130.827, 2368.22, -126.039), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(162.685, 2316.63, -126.067), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(234.28, 2320.09, -125.862), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(328.77, 2324.66, -127.156), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(378.872, 2295.88, -127.39), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(461.118, 2291.47, -121.09), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(418.993, 2224.6, -127.383), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(330.756, 2234.92, -127.193), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(281.604, 2280.4, -126.4), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(231.484, 2225.18, -125.947), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(158.428, 2240.98, -125.864), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(95.1291, 2237.92, -126.128), QAngle(0.0363, -87.2305, 0)),
		CSpawnPoint(Vector(184.231, 2134.69, -126.527), QAngle(0, 91.7284, 0)),
		CSpawnPoint(Vector(257.35, 2136.89, -126.813), QAngle(0, 91.7249, 0)),
		CSpawnPoint(Vector(330.468, 2139.09, -126.948), QAngle(0, 91.7249, 0)),
		CSpawnPoint(Vector(394.141, 2141.01, -126.775), QAngle(0, 91.7249, 0))
	},
	{
		CSpawnPoint(Vector(1121.99, 3032.2, 139.533), QAngle(4.79162, -90.2236, 0)),
		CSpawnPoint(Vector(1084.86, 2920.14, 138.799), QAngle(4.93681, -71.6743, 0)),
		CSpawnPoint(Vector(1222.02, 2994.91, 133.209), QAngle(1.88763, -100.968, 0)),
		CSpawnPoint(Vector(1184.5, 2926.46, 131.028), QAngle(5.04573, -109.136, 0)),
		CSpawnPoint(Vector(1282.15, 2936.88, 132.219), QAngle(7.51413, -115.779, 0)),
		CSpawnPoint(Vector(1304.77, 3033.71, 140.877), QAngle(2.83143, -104.127, 0)),
		CSpawnPoint(Vector(1317.64, 2852.46, 132.912), QAngle(3.77524, -94.3256, 0)),
		CSpawnPoint(Vector(1473.4, 2837.77, 133.884), QAngle(0.580838, -132.114, 0)),
		CSpawnPoint(Vector(1549.62, 2837.18, 137.323), QAngle(-0.25404, -136.651, 0)),
		CSpawnPoint(Vector(1190.24, 2875.61, 130.761), QAngle(7.36896, -91.966, 0)),
		CSpawnPoint(Vector(1089.84, 2857.83, 131.913), QAngle(8.53053, -93.9988, 0)),
		CSpawnPoint(Vector(1087.91, 2369.66, 96.0313), QAngle(1.05275, 89.0388, 0)),
		CSpawnPoint(Vector(1167.08, 2420.94, 96.0313), QAngle(1.63357, 89.2565, 0)),
		CSpawnPoint(Vector(1111.01, 2491.15, 96.0313), QAngle(1.16167, 85.3724, -0)),
		CSpawnPoint(Vector(1226.13, 2587.42, 96.0313), QAngle(-0.725945, 91.2167, -0)),
		CSpawnPoint(Vector(1090.94, 2604.62, 96.0313), QAngle(5.62655, 78.5843, 0)),
		CSpawnPoint(Vector(965.808, 2471.11, 96.0313), QAngle(1.37946, 89.692, -0)),
		CSpawnPoint(Vector(959.491, 2578.88, 96.0313), QAngle(0.653461, 32.7736, 0)),
		CSpawnPoint(Vector(1091.1, 2686.38, 96.0313), QAngle(-1.08894, 89.4015, 0)),
		CSpawnPoint(Vector(1213.02, 2683.55, 96.0313), QAngle(-1.34304, 95.2821, -0)),
		CSpawnPoint(Vector(965.98, 2714.12, 96.0313), QAngle(-2.03274, -3.1998, 0)),
		CSpawnPoint(Vector(894.792, 2636.42, 96.0313), QAngle(5.73546, 6.2745, 0)),
		CSpawnPoint(Vector(863.757, 2504.12, 96.0313), QAngle(5.51766, 20.2137, 0)),
		CSpawnPoint(Vector(1400.12, 2834.27, 132.556), QAngle(9.80104, -135.768, 0)),
		CSpawnPoint(Vector(1151.84, 2640.25, 96.0313), QAngle(3.19442, 87.3089, 0))
	},
	{
		CSpawnPoint(Vector(-59.4495, -698.861, 24.2326), QAngle(0, 1.99861, 0)),
		CSpawnPoint(Vector(-56.8873, -772.452, 21.5978), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-54.3054, -846.609, 33.1424), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-157.071, -850.187, 45.228), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-154.983, -780.821, 44.8679), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-156.677, -702.757, 49.3515), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-249.952, -706.005, 68.8232), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-247.172, -785.829, 67.4587), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-244.747, -855.489, 66.8373), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-175.243, -934.82, 67.7713), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-256.772, -937.659, 94.3921), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-359.187, -941.225, 119.495), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-361.769, -867.058, 103.577), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-364.774, -780.746, 97.0831), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-367.316, -707.74, 98.7903), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-450.145, -710.624, 118.985), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-447.609, -783.466, 117.493), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-444.651, -868.424, 119.368), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-442.109, -941.425, 133.965), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-528.224, -713.417, 133.517), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-525.825, -782.322, 131.772), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-522.549, -876.417, 133.619), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-520.235, -942.88, 156.731), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-614.209, -714.561, 137.608), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-611.762, -784.833, 135.288), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-608.564, -876.685, 132.962), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-621.53, -941.096, 154.579), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-742.604, -749.316, 134.804), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-739.657, -833.966, 132.913), QAngle(0, 1.99402, 0)),
		CSpawnPoint(Vector(-736.866, -914.119, 139.669), QAngle(0, 1.99402, 0))
	},
	{
		CSpawnPoint(Vector(-1402.05, -1286.72, 160.031), QAngle(7.15109, 145.851, 0)),
		CSpawnPoint(Vector(-1400.66, -1083.04, 160.031), QAngle(6.09837, -134.398, 0)),
		CSpawnPoint(Vector(-1843.94, -912.97, 137.561), QAngle(5.98946, 38.7658, 0)),
		CSpawnPoint(Vector(-2081.16, -768.894, 131.366), QAngle(4.35596, 7.36627, 0)),
		CSpawnPoint(Vector(-1427.96, -263.173, 129.559), QAngle(4.02925, -107.451, 0)),
		CSpawnPoint(Vector(-908.259, -819.761, 129.23), QAngle(-0.762342, -46.9748, 0)),
		CSpawnPoint(Vector(-689.837, -853.783, 133.13), QAngle(0.0362558, -150.648, -0)),
		CSpawnPoint(Vector(342.062, -759.058, 4.16003), QAngle(-2.03285, 140.346, 0)),
		CSpawnPoint(Vector(-435.522, 117.634, 1.72066), QAngle(2.46836, 103.066, 0)),
		CSpawnPoint(Vector(573.197, -111.557, 7.89513), QAngle(0.87116, -14.2555, 0)),
		CSpawnPoint(Vector(709.422, -268.518, 13.2056), QAngle(6.71545, 93.3378, 0)),
		CSpawnPoint(Vector(-275.29, 714.576, 6.31005), QAngle(13.6488, 108.947, 0)),
		CSpawnPoint(Vector(187.203, 1442.51, 0.03125), QAngle(4.9368, 48.6527, 0)),
		CSpawnPoint(Vector(481.382, 1724.53, 0.03125), QAngle(4.2108, -127.379, 0)),
		CSpawnPoint(Vector(477.758, 2719.6, 96.0313), QAngle(8.31269, -52.7694, 0)),
		CSpawnPoint(Vector(1086.56, 2338.1, 96.0313), QAngle(6.46141, 68.5701, 0)),
		CSpawnPoint(Vector(1172.64, 3009.42, 131.531), QAngle(5.73549, -167.695, 0)),
		CSpawnPoint(Vector(1730.02, 2229.62, 56.7011), QAngle(18.8034, -138.328, 0)),
		CSpawnPoint(Vector(1023.21, 1864.28, 12.0313), QAngle(3.44854, 143.191, 0)),
		CSpawnPoint(Vector(1098.49, 1568.21, 12.0313), QAngle(3.81154, 100.103, 0)),
		CSpawnPoint(Vector(944.532, 1501.14, 144.031), QAngle(7.11482, 46.4391, 0)),
		CSpawnPoint(Vector(1788.05, 388.267, -119.969), QAngle(11.4708, -147.33, 0)),
		CSpawnPoint(Vector(1026.87, 437.282, 2.19104), QAngle(9.51063, 63.0643, 0)),
		CSpawnPoint(Vector(593.391, 1142.62, 3.31265), QAngle(1.59723, -32.5268, 0)),
		CSpawnPoint(Vector(115.082, 2469.26, -116.732), QAngle(1.96023, -42.9581, 0)),
		CSpawnPoint(Vector(448.164, 2433.62, -115.373), QAngle(14.4837, 74.7266, 0)),
		CSpawnPoint(Vector(-532.82, 1709.79, -121.418), QAngle(5.19093, 39.7203, 0)),
		CSpawnPoint(Vector(-1382.68, 2290.2, 14.5281), QAngle(14.157, -15.8914, 0)),
		CSpawnPoint(Vector(-1682.11, 2811.07, 10.4477), QAngle(8.4216, -72.3871, 0)),
		CSpawnPoint(Vector(-1657.45, 1659.28, 41.532), QAngle(15.0282, 104.08, 0)),
		CSpawnPoint(Vector(-2150.04, 1119.78, 32.0417), QAngle(6.02585, 9.14254, -0)),
		CSpawnPoint(Vector(-2137.78, 1583.33, 32.0417), QAngle(5.77176, -31.9853, -0)),
		CSpawnPoint(Vector(-780.207, 1477.75, -111.969), QAngle(0.254188, -157.85, 0)),
		CSpawnPoint(Vector(-1884.2, 621.14, 32.0313), QAngle(6.0985, -74.977, 0))
	}
};
array<array<CSpawnPoint@>> Secondary_Spawns =
{
	{
		CSpawnPoint(Vector(-1390.94, -12.2241, 11.2739), QAngle(4.75541, 85.4457, 0)),
		CSpawnPoint(Vector(-2053.53, 589.443, 32.0313), QAngle(5.55406, -1.25084, 0)),
		CSpawnPoint(Vector(-1039.79, -999.775, 157.377), QAngle(12.1244, 49.799, 0)),
		CSpawnPoint(Vector(-493.685, -211.686, 5.61532), QAngle(-11.5433, -53.8374, 0)),
		CSpawnPoint(Vector(480.975, -367.988, 6.50796), QAngle(4.50135, 66.6914, 0)),
		CSpawnPoint(Vector(560.502, 1105.91, 1.47757), QAngle(5.55406, -3.52573, 0)),
		CSpawnPoint(Vector(1084.68, 208.031, 8.55096), QAngle(1.70627, 124.953, 0)),
		CSpawnPoint(Vector(1662.36, 1845.99, 38.3455), QAngle(1.96038, 145.571, 0)),
		CSpawnPoint(Vector(1714.08, 2209.55, 53.3301), QAngle(9.54709, -150.432, 0)),
		CSpawnPoint(Vector(216.063, 2464.14, -120.898), QAngle(5.44519, -85.2007, 0)),
		CSpawnPoint(Vector(355.743, 2481.94, -112.797), QAngle(6.06228, -105.202, 0)),
		CSpawnPoint(Vector(-49.8288, 2269.39, -117.609), QAngle(7.69579, -49.4451, 0)),
		CSpawnPoint(Vector(-360.849, 2368.06, -103.796), QAngle(4.82809, -133.262, 0)),
		CSpawnPoint(Vector(-299.792, 1768.93, -126.903), QAngle(-0.544322, 147.327, 0)),
		CSpawnPoint(Vector(416.031, 1775.97, 0.03125), QAngle(0.217999, -102.927, 0))
	}
};
array<array<CSpawnPoint@>> BackUp_Spawns =
{
	{
		CSpawnPoint(Vector(-133.549, 321.377, 1.72023), QAngle(1.12548, 101.322, 0), "info_player_start"),
		CSpawnPoint(Vector(1615, 1554.9, 28.0313), QAngle(-1.66966, 177.649, 0), "info_player_start"),
		CSpawnPoint(Vector(413.599, 2126.51, -126.211), QAngle(2.79523, 156.316, -0), "info_player_start"),
		CSpawnPoint(Vector(-1123.07, -181.281, 149.572), QAngle(9.98258, -102.225, 0), "info_player_start")
	}
};

void OnMapInit()
{
	Schedule::Task(0.05f, "SetUpStuff");
}

void OnNewRound()
{
	Schedule::Task(0.05f, "SetUpStuff");
}

void OnMatchBegin() 
{
	RemoveNativeSpawns("info_player_human");
	CreateSpawnsFromArray(Secondary_Spawns, false);
}

void SetUpStuff()
{
	RemoveNativeSpawns("info_player_human");
	RemoveNativeSpawns("info_player_zombie");
	RemoveNativeSpawns("info_player_start");
	CreateSpawnsFromArray(Primary_Spawns, true);
	CreateSpawnsFromArray(BackUp_Spawns, false);

	Engine.Ent_Fire("wire_trigger*", "addoutput", "damagetype 256", "0.00");
}